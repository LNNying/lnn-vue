<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JS IFrame打印</title>
</head>

<body>
    <input type="button" value="打印" onclick="myPrint()"><br />
    <img src="img/唐三.jpeg" />
    <script>
        function myPrint() {
            var el = "<img src='img/唐三.jpeg'> qwerqwer";
            var iframe = document.createElement('IFRAME');
            iframe.setAttribute('style', 'position:absolute;width:0px;height:0px;left:-500px;top:-500px;');
            document.body.appendChild(iframe);
            var doc = iframe.contentWindow.document;
            doc.write(el);
            var ys = "html,body{height:100%}img{max-width:100%;max-height:100%;margin:0 auto}";
            var style = document.createElement("style");
            style.innerText = ys;
            doc.getElementsByTagName("head")[0].appendChild(style)
            doc.close();
            iframe.contentWindow.focus();
            iframe.onload = function () { //解决图片显示不了的问题
                iframe.contentWindow.print();
                document.body.removeChild(iframe); // 移除
            };
        }
    </script>
</body>

</html>